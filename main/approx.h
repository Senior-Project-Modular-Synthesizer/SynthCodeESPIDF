float lookup_two_pow(float x) {
    // x should be in the range [-10, 10]
    int index = (int)((x - -10) / (10 - -10) * (128 - 1));
    if (index < 0) index = 0;
    if (index >= 128) index = 128 - 1;
    static const float lut[128] = {
        0.0009765625f,
        0.001089196762765029f,
        0.0012148219781302463f,
        0.0013549364898972397f,
        0.0015112114570734456f,
        0.0016855107859433671f,
        0.0018799133610547763f,
        0.0020967378402709375f,
        0.0023385703096218046f,
        0.0026082951277962047f,
        0.002909129328160181f,
        0.003244660988617598f,
        0.0036188920269540005f,
        0.004036285932087778f,
        0.004501821000523812f,
        0.005021049712965796f,
        0.0056001649592776976f,
        0.006246073901665712f,
        0.0069664803570538775f,
        0.007769976681235709f,
        0.008666146250712778f,
        0.009665677764530848f,
        0.010780492729402288f,
        0.012023887648641957f,
        0.013410692610817263f,
        0.014957448169614395f,
        0.01668260262458338f,
        0.018606732055748202f,
        0.02075278573645541f,
        0.023146359851523583f,
        0.025816002785355695f,
        0.02879355562121463f,
        0.032114531912828696f,
        0.035818541257899246f,
        0.03994976172551118f,
        0.044557466772132896f,
        0.049696612930782716f,
        0.0554284952827855f,
        0.061821478529993396f,
        0.06895181238703775f,
        0.07690454101887297f,
        0.0857745173705593f,
        0.09566753448729196f,
        0.10670158731803665f,
        0.11900828005242428f,
        0.13273439577634252f,
        0.14804364716765644f,
        0.1651186291127701f,
        0.18416299653307253f,
        0.2054038933964082f,
        0.22909466188462185f,
        0.25551786402967447f,
        0.2849886518576704f,
        0.31785852623682f,
        0.3545195292614735f,
        0.3954089201751848f,
        0.4410143906029845f,
        0.4918798812954242f,
        0.5486120697612521f,
        0.6118876061673247f,
        0.6824611838090169f,
        0.7611745404083923f,
        0.8489664975994681f,
        0.9468841583424568f,
        1.056095395819615f,
        1.1779027827689235f,
        1.3137591273920823f,
        1.4652848011350685f,
        1.6342870650113206f,
        1.822781624974429f,
        2.0330166734333206f,
        2.2674997036553224f,
        2.529027416875049f,
        2.82071907881401f,
        3.1460537234573045f,
        3.508911647820351f,
        3.913620692617661f,
        4.365007860827532f,
        4.868456889812226f,
        5.429972463661648f,
        6.0562518316272795f,
        6.754764686846167f,
        7.533842258076037f,
        8.402776677047086f,
        9.37193180659425f,
        10.452866851427395f,
        11.658474225857125f,
        13.003133322837103f,
        14.502882018341117f,
        16.17560795662366f,
        18.041261897841395f,
        20.122095672652705f,
        22.44292758190239f,
        25.031438406838333f,
        27.91850156040246f,
        31.138551317340948f,
        34.72999351504946f,
        38.73566362362094f,
        43.20333764854069f,
        48.18630195961345f,
        53.74398884252591f,
        59.942685353327676f,
        66.8563239304061f,
        74.56736419365731f,
        83.16777644815615f,
        92.76013862266602f,
        103.4588597262778f,
        115.39154441546036f,
        128.70051494684344f,
        143.54450866820514f,
        160.10057129380422f,
        178.5661685453243f,
        199.1615413441759f,
        222.13233264575473f,
        247.75251724615742f,
        276.3276695054353f,
        308.19860796183036f,
        343.74546030665107f,
        383.39219720312735f,
        427.61168902453034f,
        476.9313458237488f,
        531.9394078027732f,
        593.2919613091094f,
        661.7207640395743f,
        738.041972783419f,
        823.1658778013857f,
        918.1077599435803f,
        1024.0f,
    };
    return lut[index];
}

float lookup_sin(float x) {
    // x should be in the range [0, 1]
    int index = (int)((x - 0) / (1 - 0) * (128 - 1));
    if (index < 0) index = 0;
    if (index >= 128) index = 128 - 1;
    static const float lut[128] = {
        0.0f,
        0.049453719922738996f,
        0.09878641830579414f,
        0.14787736976946894f,
        0.19660644052928852f,
        0.24485438238350118f,
        0.2925031245334109f,
        0.33943606252240655f,
        0.3855383435866074f,
        0.43069714771882195f,
        0.47480196375801115f,
        0.517744859828618f,
        0.5594207474679531f,
        0.599727638795273f,
        0.6385668960932144f,
        0.6758434731908174f,
        0.7114661480574331f,
        0.7453477460383189f,
        0.7774053531856258f,
        0.8075605191627239f,
        0.8357394492253214f,
        0.8618731848095704f,
        0.8858977722852274f,
        0.9077544194609038f,
        0.9273896394584102f,
        0.94475538160411f,
        0.9598091490169692f,
        0.9725141026055469f,
        0.9828391512194238f,
        0.990759027734458f,
        0.9962543508856719f,
        0.9993116726964553f,
        0.9999235113880169f,
        0.998088369688552f,
        0.9938107384973164f,
        0.9871010858946441f,
        0.9779758315248003f,
        0.9664573064143605f,
        0.9525736983244457f,
        0.9363589827705493f,
        0.9178528398787551f,
        0.8971005572818211f,
        0.8741529192927527f,
        0.8490660826270787f,
        0.8219014389779585f,
        0.7927254647804207f,
        0.7616095585323879f,
        0.7286298660705872f,
        0.693867094228929f,
        0.6574063133353583f,
        0.6193367490305086f,
        0.5797515639176076f,
        0.5387476295779737f,
        0.49642528951002635f,
        0.4528881135719287f,
        0.4082426445287906f,
        0.3625981373246671f,
        0.31606629171740497f,
        0.268760978930614f,
        0.2207979629917064f,
        0.17229461743791677f,
        0.12336963808359339f,
        0.07414275255164605f,
        0.024734427279995138f,
        -0.02473442727999489f,
        -0.0741427525516458f,
        -0.1233696380835927f,
        -0.17229461743791608f,
        -0.22079796299170615f,
        -0.26876097893061424f,
        -0.31606629171740475f,
        -0.3625981373246669f,
        -0.4082426445287904f,
        -0.4528881135719285f,
        -0.4964252895100261f,
        -0.5387476295779732f,
        -0.5797515639176074f,
        -0.6193367490305087f,
        -0.657406313335358f,
        -0.6938670942289289f,
        -0.7286298660705871f,
        -0.7616095585323877f,
        -0.7927254647804206f,
        -0.8219014389779584f,
        -0.8490660826270788f,
        -0.8741529192927527f,
        -0.8971005572818213f,
        -0.9178528398787549f,
        -0.9363589827705491f,
        -0.9525736983244457f,
        -0.9664573064143603f,
        -0.9779758315248002f,
        -0.9871010858946441f,
        -0.9938107384973164f,
        -0.998088369688552f,
        -0.9999235113880169f,
        -0.9993116726964553f,
        -0.996254350885672f,
        -0.990759027734458f,
        -0.9828391512194239f,
        -0.9725141026055468f,
        -0.9598091490169692f,
        -0.9447553816041101f,
        -0.9273896394584105f,
        -0.907754419460904f,
        -0.8858977722852275f,
        -0.8618731848095704f,
        -0.8357394492253218f,
        -0.8075605191627238f,
        -0.7774053531856255f,
        -0.7453477460383192f,
        -0.7114661480574335f,
        -0.6758434731908176f,
        -0.6385668960932145f,
        -0.5997276387952737f,
        -0.5594207474679538f,
        -0.5177448598286178f,
        -0.47480196375801087f,
        -0.43069714771882234f,
        -0.38553834358660766f,
        -0.3394360625224067f,
        -0.29250312453341093f,
        -0.24485438238350202f,
        -0.19660644052928922f,
        -0.14787736976946866f,
        -0.09878641830579461f,
        -0.04945371992273936f,
        -2.4492935982947064e-16f,
    };
    return lut[index];
}

